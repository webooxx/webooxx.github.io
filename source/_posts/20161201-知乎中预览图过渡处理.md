---
title: 知乎中预览图过渡处理&Img标签的srcset属性
date: 2016-12-01 10:52:48
tags: HTML5,css,交互
---


逛知的时候，发现对不在屏幕可视区的图片载入的时候会有个模糊的渐变效果，直觉上应该是用了一些延迟加载的功能。

![知乎上图片多个源](/images/zhihu-lazy-image.png)

果然，实际上图片是有2个地址的，原来我猜测`模糊效果是有个低质量的图片`，`原图`载入完成后模糊来个过渡，实际上并不是。

- [预览图](https://pic3.zhimg.com/407d770c67426629a7b94cef4e48468e_r.png)
- [原图](https://pic3.zhimg.com/407d770c67426629a7b94cef4e48468e_r.png)

预览图就是页面上看到的尺寸，原图大于一定的尺寸。点击的效果是出现更大的图。

忽然想起来，img 标签是有个属性能设置比较模糊的预览图的，翻了下资料。

## 早期浏览器对预览图的支持

早期img标签是有个lowsrc属性

#### lowsrc

- lowsrc 属性可设置或返回图像的低分辨率版本的 URL。


````html
<img src="sourceImg.png" lowsrc="previewImg.png" width="500" height="2000">
````

## HTML5的新属性 srcset

然而HTML5最新的标准放弃了这个属性，而采用 srcset 代替。新的 srcset 属性设置，更像是是处理

1. 高清屏下2倍图、多倍图
2. 不同设备（比如移动端）屏幕宽度不同的情况下显示不同尺寸的图片

和早期的 lowsrc 解决带宽不用，显示预览图的作用思路完全不一样。

#### MDN上的案例

```` html
<img src="mdn-logo-sm.png" alt="MDN" srcset="mdn-logo-HD.png 2x">

<!-- 以及 -->

<img src="clock-demo-thumb-200.png"
      alt="Clock"
      srcset="clock-demo-thumb-200.png 200w, clock-demo-thumb-400.png 400w"
      sizes="(min-width: 600px) 200px, 50vw">
````

具体可以看这 [响应式图片srcset全新释义sizes属性w描述符](http://www.zhangxinxu.com/wordpress/2014/10/responsive-images-srcset-size-w-descriptor/)



#### 相关连接

- [HTML DOM Image 对象](http://www.w3school.com.cn/jsref/dom_obj_image.asp)
- [lwosrc Attribute of img ](http://html.com/attributes/img-lowsrc/)
- [the-img-element](https://w3c.github.io/html/semantics-embedded-content.html#the-img-element)
- [The HTML &lt;img&gt; element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img)
